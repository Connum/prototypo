sudo: false
language: node_js
node_js:
- '6.3'
before_install:
- npm install -g netlify-cli
after_install:
- npm dedupe
- npm shrinkwrap --dev
- cat npm-shrinkwrap.json
script:
- gulp build --type=prod
after_success:
- '[ $TRAVIS_BRANCH == master ] && netlify deploy -t $NETLIFY_TOKEN -p ./dist -s 0ea6bba4-adc8-4e60-b9a3-ebd316982361'
- '[ $TRAVIS_BRANCH == release ] && netlify deploy -t $NETLIFY_TOKEN -p ./dist -s bf5c3b47-9793-4316-b19f-4c18ef1a1e02'
- '[ $TRAVIS_BRANCH == feat/new-ux ] && surge --project ./dist --domain sandbox1.prototypo.io'
branches:
  only:
    - master
    - release
    - feat/new-ux
notifications:
  slack:
    secure: nROAluwgT8ytE/2dlg2wKFDp/bA3AGd2SHOAN4mKwefAAyudofWhlx85qNLcLUAjfvIVYdPBRXx6BwlF0l5pAl7WCJKEFMAfhFZeXwEVd3DTXK9SvEwMym9qEiZXI6vyZY3IHb7MFy2p6uXpFE9Ub1Vdq8AEV7OPW8UZ742PYEA=
